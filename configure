#! /bin/bash

# remove TofDaqDll functions from RcppExports.cpp
sed -i.windows '/ FindTpsIp(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_FindTpsIp"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SiProcessSpectrumFromShMem(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SiProcessSpectrumFromShMem"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ KeepSharedMemMapped(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_KeepSharedMemMapped"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ AddAttributeDouble(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_AddAttributeDouble"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ AddAttributeInt(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_AddAttributeInt"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ AddAttributeString(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_AddAttributeString"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ AddLogEntry(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_AddLogEntry"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ AddUserData(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_AddUserData"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ AddUserDataMultiRow(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_AddUserDataMultiRow"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ AutoSetupDaqDevice(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_AutoSetupDaqDevice"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ CleanupDll(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_CleanupDll"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ CloseTofDaqRec(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_CloseTofDaqRec"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ IssueDio4Pulse(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_IssueDio4Pulse"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetDio4State(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetDio4State"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ DaqActive(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_DaqActive"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetBufTimeFromShMem(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetBufTimeFromShMem"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameter(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameter"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterBool(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterBool"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterBoolRef(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterBoolRef"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterDouble(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterDouble"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterDoubleRef(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterDoubleRef"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterFloat(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterFloat"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterFloatRef(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterFloatRef"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterInt(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterInt"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterInt64(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterInt64"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterInt64Ref(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterInt64Ref"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterIntRef(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterIntRef"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDaqParameterStringRef(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDaqParameterStringRef"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDescriptor(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDescriptor"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetDllVersion(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetDllVersion"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetPeakParameters(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetPeakParameters"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetRegUserDataDesc(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetRegUserDataDesc"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetRegUserDataSources(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetRegUserDataSources"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetSegmentProfileFromShMem(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetSegmentProfileFromShMem"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetSegmentProfileFromShMem2(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetSegmentProfileFromShMem2"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetSpecXaxisFromShMem(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetSpecXaxisFromShMem"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetStickSpectrumFromShMem(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetStickSpectrumFromShMem"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetStickSpectrumFromShMem2(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetStickSpectrumFromShMem2"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetSumSpectrumFromShMem(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetSumSpectrumFromShMem"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetSumSpectrumFromShMem2(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetSumSpectrumFromShMem2"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetTimeout(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetTimeout"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetTofSpectrumFromShMem(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetTofSpectrumFromShMem"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetTofSpectrumFromShMem2(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetTofSpectrumFromShMem2"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ InitializeDaqDevice(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_InitializeDaqDevice"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ InitializeDll(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_InitializeDll"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ KeepFileOpen(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_KeepFileOpen"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ LoadIniFile(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_LoadIniFile"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ OnDemandMassCalibration(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_OnDemandMassCalibration"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ QueryRegUserDataSize(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_QueryRegUserDataSize"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ ReadRegUserData(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_ReadRegUserData"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ RegisterUserDataBuf(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_RegisterUserDataBuf"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ RegisterUserDataNoStore(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_RegisterUserDataNoStore"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ RegisterUserDataWrite(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_RegisterUserDataWrite"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ ReleaseSharedMemory(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_ReleaseSharedMemory"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SaveIniFile(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SaveIniFile"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetDaqParameter(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetDaqParameter"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetDaqParameterBool(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetDaqParameterBool"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetDaqParameterDouble(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetDaqParameterDouble"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetDaqParameterFloat(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetDaqParameterFloat"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetDaqParameterInt(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetDaqParameterInt"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetDaqParameterInt64(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetDaqParameterInt64"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ ConfigVarNbrMemories(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_ConfigVarNbrMemories"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetTimeout(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetTimeout"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ ShowConfigWindow(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_ShowConfigWindow"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ StartAcquisition(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_StartAcquisition"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ StopAcquisition(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_StopAcquisition"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ ContinueAcquisition(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_ContinueAcquisition"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ ManualContinueNeeded(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_ManualContinueNeeded"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TofDaqRunning(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TofDaqRunning"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsChangeIonMode(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsChangeIonMode"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsConnect(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsConnect"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsConnect2(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsConnect2"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsDisconnect(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsDisconnect"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetActiveFilament(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetActiveFilament"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetLastSetValue(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetLastSetValue"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetModuleCodes(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetModuleCodes"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetModuleLimits(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetModuleLimits"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetMonitorValue(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetMonitorValue"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetNbrModules(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetNbrModules"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetStatus(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetStatus"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsGetTargetValue(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsGetTargetValue"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsInitialize(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsInitialize"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsLoadSetFile(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsLoadSetFile"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsSaveSetFile(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsSaveSetFile"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsSetActiveFilament(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsSetActiveFilament"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsSetAllVoltages(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsSetAllVoltages"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsSetTargetValue(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsSetTargetValue"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ TpsShutdown(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_TpsShutdown"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ UnregisterUserData(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_UnregisterUserData"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ UpdateUserData(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_UpdateUserData"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ WaitForEndOfAcquisition(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_WaitForEndOfAcquisition"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ WaitForNewData(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_WaitForNewData"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetMassCalib(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetMassCalib"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetMassCalib2(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetMassCalib2"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetMassCalibEx(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetMassCalibEx"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ GetMassCalib2Ex(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_GetMassCalib2Ex"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetMassCalib(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetMassCalib"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetMassCalib2(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetMassCalib2"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetMassCalibEx(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetMassCalibEx"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ SetMassCalib2Ex(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_SetMassCalib2Ex"/ d' ./src/RcppExports.cpp

sed -i.tmp '/ DeleteAttributeInH5(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_DeleteAttributeInH5"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ WaitForExclusiveFileAccess(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_WaitForExclusiveFileAccess"/ d' ./src/RcppExports.cpp
sed -i.tmp '/ WriteNetCdfTimeSeriesFile(/,/}/ d' ./src/RcppExports.cpp
sed -i.tmp '/_WriteNetCdfTimeSeriesFile"/ d' ./src/RcppExports.cpp

# remove CleanupDll() from zzz.R
sed -i.windows '/CleanupDll(/ d' ./R/zzz.R
